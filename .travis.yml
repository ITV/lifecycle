language: scala
scala:
- 2.12.1
jdk:
- oraclejdk8
env:
  global:
  - secure: kmmRJcAohvq+bTHtEorppUkDo9uTOSovzphboGZjX+VF6Z0Wf2n+hAzWjFM3AgQ6y0JoMMes3ITGmU6lIpU5Kca5l+vEm1lS8HHIQbckXo277NRghrAz7tFQ0AvZ+7edoeR74Fx9xRGElUic1WO+gyhy9VJBwe4mPDYmpSvUt3120sbsumpidWl3D5qQZpBZvCe8364/d6gZVc2Mp22rpZ+z6GP/sD0oq6Of7VQbBM5bkBq+s7VtEZNRUidYotk24a5F2vmP1laJQtTq5NlA82HTzWbW2wZt1ip2z9V+QsBA5D2RBPe2IRKjfbLOAFMLMoItm1ttf08kAZR6nLd7MfuopBSuSoozVxFMd1JRaBgS5W6lof04RCiGJQS139UmjTxpykdTO2Ihf4RcfLrNlKBTLnV5TZW87ekRfSTH/+Ja4DkWFtmdDYPxBbl0S6GrsBfOxHW1avGEfjPtICBMeda1n6GS+RFSAYHBxzQ3nK8rput99kvVyqNWRbbHL+atL2rKLUGblSwkV9YmIuKbFMbNiNUQRS5fQWMDLU8V3BXRp0JmKrH8TTf6ycQt/XorDwFbHBOJ9VEgHTWb4X0/3jlRb92vM/EqU+Ifc5jU3Yny30PAwsMon3oXH4PMkFaSdoiSE03Z1eiQ1I+5QM+2bFGw+LDKYbFMtKOIsVq1PhI=
  - secure: baNNqvoVu0ya7RuQiWQ5g1Zf5u12QyNC89bWpFz4a8go1pkCML3JdF192rALMFnvZMaVJ3FYNpL1pE1e3CY4x9w0z9zdXStVnHa2vPYgwVJyNPGX8NdHfBJsPQXH88DP9SjDXhjOqj3Ms2RcAkKSN+QPTIuHhfX2xiNwcmaK4+VZhlAxngu4Rzz4prjGWolJVPP09vO5QrqT5KJxdeV58eA7rCkRzS0OhSgbwRrq3Ow4Z1eA56q0djAo4VoTUGDBuW/TH8a6VLU0MHx04vIGdrUpAJVmwGTnjpPm5UsEb5upIyrNT3ZGp/a1S1IJzAlhEGq3hSHHBYNVPw1DU5L88LQZ6+IGGAn2fuAGhT4WfQnnBIlIvNmo+GWQ/TpuhhU88uzSyfZX78HZoe9pG+vJXqAJnhdZf7q6CEuUFSsXi19sC7Njn/lP3HW/H4msOAnLgiYVu1+UsvRmxdZCc+6KoAnpMKdbWYWAjesFeJ+AK7/G6l0IO4A3zUAgV8Hvx/OJNcf0gddarMcJf+I+UE2rM11XfM5x4OSmgNMm52bTkqnFtk7gt81R5vZ0pFH4ukzfspgSMrFClBsTvQlaZafw9Qf5x8rGOfu36cEJ4LiNFtH9k9JSgCnpvZ8El9L5xi/ZRbVjOHhU2W9Llm1VD6JFWDVjZ4XpXHq/7FbdbCnUlm4=
  - secure: "FNEma5HeSFKZDpvAWKOwIeox5X7aJVWEo4VWgTxycxYvG6fkl8ZmnUWxJPR1CYnzuMXB5t8+HeiI6H81wx0kot663g6TfXxEsUgrhUN3BWn+jU5dcSCZ9aA8ePvubTl9UAS4E69J/j3tKxOxWy+n5Na1C+X5rh1lw3XcA91jJtmd6OJ24M7UWRGW7bpWsv6qcXIrYNwvnzOeMaUoMdAumVLHitJwz8AlZGuDGI0XWwASwD+1US/2GWdA8JIwpB0/aBMa3FY/ult+pM4A87SOMowYbGSw1J/VKEJE9+YAeas/QTeikNmGRudUEJGkvNeaqKF1L4fHAx5s8S2CuH0o8UVoeOrylBPqX1b5aNBWeGsttIzuCK5QiakyCYkHkyBAGFjIUnGNGz3+NsKVX9+WD6mT6O9B8T0bsAT59UTqMGmOsFN+pMFlWweZJP2IPYdXdTryRrircNfLu25t5lLjbiNlssUdWhQEp8AneJ+3t7j2tiK75ObTu8xOO7aOYSqzgkqy+W8atsPfOhZh4EQR8jamq7pFSGFGAU7bvB7hws2AWog2skcwd4hanU9dszobHqftW48H62RrY+nWrZPNvVBYrnEtZW6S7Pn+62wegTKjtNXC69lMaLKbiFzjjS3BAHj+Zqgj0UAnKQSr2p9B+D9KXAdZVOdcXGX9Hs0wBmk="
  - secure: "ia3Z3ziwGTEmeHzQnJwclY1wofS9D9kZdg1Wi6obPy376rATSaJt35fvNu8XCQDztTrnJktAdlMlR307QvrzGzpV2SlcJngydE3o9JOnT5QATyDkcN0VX2reeE1TMezrhegziSTjunIjpDCJ4pb5pHmHqjD8d90fo05wr0CXNhTUYDdjGS6uIeZv+uDP4sP/W246e5pLdzO/WdnSVlkrDwFNLlVMjOk4diJ10yWNl1A4ZK0XqSBlnvdDCSD3GnBVfOhiJwuy20upTn41sa9NajhtgERcjZQ4s37cEPhf5jGY1gv1P3qyVgpzOzoqv8LJG6FckA7ey5PoUChTA50F/oLiXSutOeeD1YvaWvo6RcoH2MK2rMQKq2J7d/pwEgWy7xE3r9QqA1ci4S5GmhULbiTIVI7F6k7gIm1yfcI8TYCwttSPNgDRMy3KirhJAiCM465sG7lb5PL6+ovVlNLO6QgRPUcxDulc1Ng9nAFmFPkgNMCgeVVW23SV/YNPIl+GGkblpyW2vm/Io6bw0GdN+i18CQHiR7XQA9UID+Gyze7gbuK8MTsTG7j3XDkXbuX8ISqhK70oy5e9mqYDk5J3S3nsndM0R7SdmRU2O8VMEQK8zcdD8UP870G1i0u95IlVy/Ave2ebfOsRhIOja4WrB2mhZqTTQW7QJcSl9ixNb5o="
after_success:
  - >
      test "${TRAVIS_PULL_REQUEST}" = 'false' &&
      test "${TRAVIS_BRANCH}" = 'master' &&
      echo $TRAVIS_COMMIT_MESSAGE | grep -i "perform_release" &&
      openssl aes-256-cbc -K $encrypted_580469430836_key -iv $encrypted_580469430836_iv -in ci/private.asc.enc -out ci/private.asc -d &&
      git checkout master &&
      git config user.name "Martin Carolan (travis)" &&
      git config user.email "junk+travisbuild@mcarolan.net" &&
      git status &&
      sbt 'set credentials += Credentials("Sonatype Nexus Repository Manager", "oss.sonatype.org", System.getenv("SONATYPE_USER"), System.getenv("SONATYPE_PASS"))' "release with-defaults" &&
      git remote add origin-travis https://${GITHUB_TOKEN}@github.com/ITV/lifecycle.git > /dev/null 2>&1 &&
      git push --follow-tags
